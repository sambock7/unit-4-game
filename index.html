<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="UTF-8">
  <title>Crystal Collector</title>

  <!-- css -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery.js"></script>

</head>

<body>

  <div class="container">

    <!-- first row -->
    <div class="row">

      <div class="col-md-12">
        <h1 style="text-align:center;">Crystal Collector</h1>
      </div>


    </div>

    <!-- second row, game intro -->
    <div class="row">

      <div class="col-md-12">
        <p style="text-align:center;">
          Click the crystals to match your score to the random number provided.

        </p>
      </div>

    </div>

    <!-- third row, randomly generated number -->
    <div class="row">

      <div class="col-md-12">
        <p style="text-align:center;">
          Your number to match is: 

        </p>
      </div>

    </div>

    <!-- third row, where the game is -->
    <div class="row">

      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
              <img class="crystal" id="crystal1" src="assets/images/crystal1.png" alt="crystal1">
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
              <img class="crystal" id="crystal2" src="assets/images/crystal2.png" alt="crystal2">
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
              <img class="crystal" id="crystal3" src="assets/images/crystal3.png" alt="crystal3">
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
              <img class="crystal" id="crystal4" src="assets/images/crystal4.png" alt="crystal4">
          </div>
        </div>
      </div>
      

    </div>

  </div>

  <!-- Javascript -->
  <!-------------------------------------------------------------------------------------------------------- -->
  <script type="text/javascript">

    // words computer will randomly select
    var words = [
      "chicken",
      "yankees",
      "coding",
      "javascript",
      "whiteclaw",
      "roaming",
      "butter",
      "parmesan",
      "caravan",
      "williamsburg",
      "bushwick",
      "softball",
      "baseball",
      "playoffs",
      "nintendo",
      "notorious",
      "greenpoint",
    ];

    var hints = [
      "it's a bird",
      "best baseball team",
      "what I did to make this game",
      "it's a language the game was made in",
      "best drink of all time",
      "if you're not going in one particular direction",
      "put this on anything and it tastes delicious",
      "italians love this",
      "when you drive with more than one car",
      "where roebling sporting club is located",
      "where troutman st is located",
      "a fun sport to play co-ed",
      "a sport",
      "when sports get more serious",
      "best game system",
      "______ BIG",
      "an area in brooklyn"
    ]

    //creating variables to hold the number of wins, losses, and lives.
    var wins = 0;
    var losses = 0;
    var score = 0;
    
    var winAudio = new Audio("tada.mp3");
    var loseAudio = new Audio("lose.mp3");


    var chosenWord;
    var answerArray;

    function startGame() {
      chosenWord = words[Math.floor(Math.random() * words.length)];
      answerArray = new Array(chosenWord.length).fill("_");
      answerArrayText.textContent = answerArray.join(" ");
      imageid = 0;
      $(".hangman").css("opacity", 0);
      console.log(chosenWord);
      hintText.textContent = "";
      guessesText.textContent = "";
    }




    //create variables that hold reference to the places in the HTML where we want to display things.
    var winsText = document.getElementById("wins-text");
    var lossesText = document.getElementById("losses-text");
    var livesText = document.getElementById("lives-text");
    var answerArrayText = document.getElementById("answer-array");
    var hintText = document.getElementById("hint-text");
    var guessesText = document.getElementById("guesses-text");
    



    startGame();

    console.log(chosenWord);

    //take user input
    document.onkeyup = function (event) {
      var userGuess = event.key;
      var pos = chosenWord.indexOf(userGuess);
      console.log("userGuess: " + userGuess);

      if (pos != -1) {
        console.log("user guessed a correct letter:" + userGuess);
        for (var i = 0; i < chosenWord.length; i++) {
          if (chosenWord.charAt(i) === userGuess) {
            answerArray[i] = userGuess;
          }
        }

        answerArrayText.textContent = answerArray.join(" ");
      } else {
        lives--;
        images[imageid++].animate({ opacity: "1" });
      }
      if (answerArray.join("") === chosenWord) {
        wins++;
        winAudio.play();
      } else if (lives <= 0) {
        losses++;
        loseAudio.play();
        answerArrayText.textContent = chosenWord;
      }

      livesText.textContent = "Lives left: " + lives;
      winsText.textContent = "Wins: " + wins;
      lossesText.textContent = "losses: " + losses;
      // guessesText.textContent = "Guessed letters: " + userGuess.join(" ");


    }

    $("#hint").on("click", function () {
      console.log("hint button clicked");
      var hintIndex = words.indexOf(chosenWord);
      console.log("hintIndex: " + hintIndex)  
      hintText.textContent = hints[hintIndex];
    });

    $("#reset").on("click", function () {
      console.log("you reset it");
      lives = 10;
      livesText.textContent = "Lives left: " + lives;
      startGame();
    });



    


  </script>

</body>

</html>